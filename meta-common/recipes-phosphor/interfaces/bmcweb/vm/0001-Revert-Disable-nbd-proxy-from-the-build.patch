From f0ecf807d5e0f6625dd9beced232484a3b8a0d5e Mon Sep 17 00:00:00 2001
From: Przemyslaw Czarnowski <przemyslaw.hawrylewicz.czarnowski@intel.com>
Date: Fri, 22 Apr 2022 10:40:56 +0200
Subject: [PATCH 1/4] Revert "Disable nbd proxy from the build"

Signed-off-by: Przemyslaw Czarnowski <przemyslaw.hawrylewicz.czarnowski@intel.com>
---
 meson.build       |  2 +-
 meson_options.txt | 10 +++++-----
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/meson.build b/meson.build
index b9f37325..86c961b1 100644
--- a/meson.build
+++ b/meson.build
@@ -89,7 +89,7 @@ feature_map = {
   'static-hosting'                              : '-DBMCWEB_ENABLE_STATIC_HOSTING',
   'vm-websocket'                                : '-DBMCWEB_ENABLE_VM_WEBSOCKET',
   'xtoken-auth'                                 : '-DBMCWEB_ENABLE_XTOKEN_AUTHENTICATION',
-  #'vm-nbdproxy'                                : '-DBMCWEB_ENABLE_VM_NBDPROXY',
+  'vm-nbdproxy'                                 : '-DBMCWEB_ENABLE_VM_NBDPROXY',
 }
 
 # Get the options status and build a project summary to show which flags are
diff --git a/meson_options.txt b/meson_options.txt
index ecc7aebc..78b1d39c 100644
--- a/meson_options.txt
+++ b/meson_options.txt
@@ -35,11 +35,11 @@ option(
 # this interface, so for the moment this appears to be dead code;  In leiu of
 # removing it, it has been disabled to try to give those that use it the
 # opportunity to upstream their backend implementation
-#option(
-#    'vm-nbdproxy',
-#    type: 'feature', value: 'disabled',
-#    description: 'Enable the Virtual Media WebSocket.'
-#)
+option(
+    'vm-nbdproxy',
+    type: 'feature', value: 'disabled',
+    description: 'Enable the Virtual Media WebSocket.'
+)
 
 option(
     'rest',
-- 
2.35.3

